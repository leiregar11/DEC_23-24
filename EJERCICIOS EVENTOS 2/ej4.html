<!DOCTYPE html>
<html>
<head>
    <title>EJ3-Leire</title>

<style>
.master {height:270px;width:800px;padding:10px;border:2px solid red;
	background-color:green;margin:0 auto 0 auto;}
div 	{height:100px;width:500px;padding:10px;border:2px solid red;
	background-color:blue;margin:0 auto 0 auto;}
p	{background-color:orange;text-align:center;}
span	{background-color:purple;border:2px solid red;}

</style>
<script>
    window.onload=inicio;

    function inicio(){
        asociarEvento(document.body);

    }
    function asociarEvento(elemento){
        elemento.addEventListener("click",pintaAmarillo);
        let hijos=elemento.children;
        for (let i = 0; i < hijos.length; i++) {
            asociarEvento(hijos[i]);
            
        }
        
    }
    function pintaAmarillo(event){
        let borde=window.getComputedStyle(this,null).getPropertyValue("border");
            if(borde!="rgb(255,0,0)"){
                this.style.backgroundColor="yellow";
            }
            event.stopPropagation();
        
    }
</script>
</head>
<body>
<div class="master">
<div><p>Soy un parrafo.<span>Soy un span</span></p></div>
</br>
<div><p>Soy un parrafo.<span>Soy un span</span></p></div>
</div>
</body>

</html>